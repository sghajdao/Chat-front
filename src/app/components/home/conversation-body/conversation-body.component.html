<div class="body" *ngIf="user && friend">
    <div class="header">
        <h6 class="name">{{friend.firstname}}</h6>
    </div>

    <div class="messages" #scrollContainer *ngIf="user && friend">
        <div *ngFor="let msg of receivedMessages">
            <div class="sent" *ngIf="msg.sender.id === user?.id">
                <div *ngIf="msg.type === 'TEXT'" class="sent-msg" [matTooltip]="getDate(msg.createdAt)">
                    {{msg.content}}
                </div>
                <div *ngIf="msg.type === 'FILE'" style="padding-right: 10px;" [matTooltip]="getDate(msg.createdAt)">
                    <img style="width: 280px;height: 200px;" [src]="msg.content" alt="">
                </div>
                <img (click)="openProfile(user)" class="sender-img" [src]="!user.image? '../../../../assets/Unknown_person.jpg':'http://localhost:8181/api/image/' + user.image" alt="">
            </div>
            <br>
            <div class="received" *ngIf="msg.sender.id !== user?.id">
                <img (click)="openProfile(friend)" class="receiver-img" [src]="!friend.image? '../../../../assets/Unknown_person.jpg':'http://localhost:8181/api/image/' + friend.image" alt="">
                <div *ngIf="msg.type === 'TEXT'" class="received-msg" [matTooltip]="getDate(msg.createdAt)">
                    {{msg.content}}
                </div>
                <div *ngIf="msg.type === 'FILE'" style="padding-left: 10px;" [matTooltip]="getDate(msg.createdAt)">
                    <img style="width: 280px;height: 200px;" [src]="msg.content" alt="">
                </div>
            </div>
            <br>
        </div>

        <div class="selected-image" *ngIf="selectedImage">
            <img style="width: 280px;height: 200px;" [src]="selectedImage" alt="">
        </div>
    </div>

    <div style="display: flex;" *ngIf="!user.blackList?.includes(friend.id!) && !friend.blackList?.includes(user.id!)">
        <div class="type">
            <input (keyup.enter)="onSendMessage()" [(ngModel)]="message" type="text" name="message" placeholder="Type something ...">
        </div>
        <div class="send">
            <div style="width: 40px;height: 40px;">
                <mat-icon (click)="fileInput.click()">attach_file</mat-icon>
            </div>
            <div (click)="onSendMessage()" class="button">Send</div>
            <input type="file" #fileInput style="display: none;" (change)="onFileSelected($event)">
        </div>
    </div>
</div>
